const pageSizeOptions = [20, 40, 80, 100]

const pager = {
  renderPage: function(options) {
    $('#' + options.pagerId).pager({
      page: options.currentPage,
      recPerPage: options.pageSize,
      recTotal: options.totalItems,
      elements: ['total_text', 'prev_icon', 'pages', 'next_icon', 'size_menu', 'goto'],
      maxNavCount: 6,
      pageSizeOptions: pageSizeOptions,
      menuDirection: 'dropup',
      onPageChange: (state, oldState) => {
        if (state.page !== oldState.page && oldState.page != undefined) {
          options.sourceData['currentPage'] = state.page
          options.getListFunc()
        }
        if (state.recPerPage != oldState.recPerPage && oldState.recPerPage != undefined) {
          options.sourceData['pageSize'] = state.recPerPage
          options.getListFunc()
        }
      }
    })
  }
}

module.exports = pager